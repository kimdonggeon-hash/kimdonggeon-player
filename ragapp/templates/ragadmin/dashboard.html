{% load static versioned_static %}
{% url 'legal_guide' as legal_guide_url %}
{% url 'legal_privacy' as legal_privacy_url %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RAG Admin ëŒ€ì‹œë³´ë“œ</title>

  <link rel="icon" href="{% static 'ragapp/favicon.ico' %}">
  <!-- âœ… ìºì‹œ ìë™ ë²„ì „ CSS -->
  <link rel="stylesheet" href="{% versioned_static 'ragapp/css/admin-dashboard.css' %}">

  <style>
    :root{
      --bg:#050816;
      --bg2:#020617;
      --card:#0b1120;
      --card-soft:#020617;
      --border:rgba(148,163,184,.28);
      --text:#e5e7eb;
      --dim:#9ca3af;
      --accent:#60a5fa;
      --accent2:#a855f7;
      --pill:#1f2937;
      --radius:18px;
    }
    html,body{
      margin:0;
      padding:0;
      background:radial-gradient(circle at top,#1d2648 0,#020617 55%,#000 100%);
      color:var(--text);
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI","Noto Sans KR",sans-serif;
      -webkit-font-smoothing:antialiased;
    }
    .wrap{
      max-width:1120px;
      margin:32px auto 40px;
      padding:0 20px;
    }

    /* â”€â”€ HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .hero{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:18px;
      margin-bottom:24px;
    }
    .hero-main{
      padding:18px 20px 20px;
      border-radius:24px;
      border:1px solid rgba(148,163,184,.35);
      background:
        radial-gradient(circle at 0 0,rgba(96,165,250,.22),transparent 55%),
        radial-gradient(circle at 100% 0,rgba(168,85,247,.22),transparent 60%),
        linear-gradient(135deg,#020617,#020617);
      box-shadow:0 24px 80px rgba(15,23,42,.9);
      overflow:hidden;
      flex:1 1 auto;
    }
    .hero-head{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      margin-bottom:8px;
    }
    .chip-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      font-size:11px;
    }
    .chip{
      padding:2px 8px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.5);
      background:rgba(15,23,42,.8);
      color:#cbd5f5;
    }
    .hero-title{
      font-size:24px;
      font-weight:800;
      letter-spacing:-0.02em;
      margin-bottom:4px;
    }
    .hero-sub{
      font-size:13px;
      color:var(--dim);
    }
    .hero-badge{
      padding:6px 10px;
      border-radius:999px;
      background:rgba(15,23,42,.9);
      border:1px solid rgba(148,163,184,.45);
      font-size:11px;
      display:inline-flex;
      align-items:center;
      gap:6px;
      color:#e5e7eb;
      white-space:nowrap;
    }
    .dot{
      width:6px;
      height:6px;
      border-radius:999px;
      background:radial-gradient(circle,#22c55e 0,#22c55e 40%,transparent 60%);
      box-shadow:0 0 12px rgba(34,197,94,.7);
    }
    .hero-side{
      min-width:200px;
      display:flex;
      flex-direction:column;
      gap:10px;
      font-size:12px;
      color:var(--dim);
    }
    .hero-side-card{
      border-radius:18px;
      background:rgba(15,23,42,.85);
      border:1px solid rgba(148,163,184,.35);
      padding:10px 12px;
    }
    .hero-side-title{
      font-size:12px;
      font-weight:700;
      margin-bottom:4px;
      color:var(--text);
    }
    .hero-side-row{
      display:flex;
      justify-content:space-between;
      gap:6px;
    }
    .hero-side-label{
      color:var(--dim);
    }
    .hero-side-value{
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
      font-size:11px;
      color:#e5e7eb;
      text-overflow:ellipsis;
      overflow:hidden;
      white-space:nowrap;
      max-width:160px;
      text-align:right;
    }

    /* â”€â”€ GRID & CARDS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
      gap:16px;
      margin-bottom:20px;
    }
    .card{
      background:linear-gradient(145deg,rgba(15,23,42,.98),rgba(15,23,42,.92));
      border-radius:var(--radius);
      border:1px solid var(--border);
      padding:16px 16px 14px;
      box-shadow:0 16px 50px rgba(0,0,0,.6);
      position:relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute;
      inset:auto -40px -70px;
      height:120px;
      background:radial-gradient(circle at 50% 0,rgba(96,165,250,.22),transparent 60%);
      opacity:.35;
      pointer-events:none;
    }
    .card h3{
      margin:0 0 6px;
      font-size:16px;
      font-weight:600;
    }
    .card p{
      margin:0 0 12px;
      font-size:13px;
      color:var(--dim);
    }
    .btn-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      position:relative;
      z-index:1;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      gap:6px;
      height:32px;
      padding:0 12px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.45);
      background:rgba(15,23,42,.9);
      color:#e5e7eb;
      text-decoration:none;
      font-size:12px;
      font-weight:600;
    }
    .btn-accent{
      border-color:rgba(96,165,250,.7);
      background:linear-gradient(90deg,#60a5fa,#a855f7);
      color:#0b1120;
      box-shadow:0 10px 30px rgba(37,99,235,.6);
    }
    .btn-ghost{
      background:transparent;
    }
    .pill{
      display:inline-block;
      margin-left:4px;
      padding:2px 8px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.45);
      background:rgba(15,23,42,.9);
      color:#cbd5f5;
      font-size:11px;
    }
    .rows{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:8px;
      position:relative;
      z-index:1;
    }
    .foot{
      margin-top:10px;
      font-size:11px;
      color:var(--dim);
    }
    code{
      background:#020617;
      border-radius:8px;
      border:1px solid rgba(148,163,184,.35);
      padding:2px 6px;
      font-size:11px;
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
    }

    @media (max-width:900px){
      .hero{
        flex-direction:column;
      }
      .hero-side-value{
        max-width:120px;
      }
    }
  </style>
</head>
<body>
<div class="wrap">
  <!-- HERO -->
  <header class="hero">
    <section class="hero-main">
      <div class="hero-head">
        <div class="chip-row">
          <span class="chip">Admin Â· RAG í†µí•© ê²€ìƒ‰ ì½˜ì†”</span>
          <span class="chip">ë²¡í„° ìŠ¤í† ì–´</span>
          <span class="chip">FAQ Â· Live Chat</span>
          <span class="chip">í‘œ ë°ì´í„°(ì—‘ì…€Â·CSV)</span> <!-- âœ… í‘œ ê¸°ëŠ¥ ì¹© ì¶”ê°€ -->
        </div>
        <div class="hero-badge">
          <span class="dot"></span>
          <span>ì˜¤ëŠ˜ ì„¸ì…˜ ê´€ë¦¬ ì¤‘</span>
        </div>
      </div>

      <div class="hero-title">RAG Admin ëŒ€ì‹œë³´ë“œ</div>
      <div class="hero-sub">
        ë‰´ìŠ¤Â·ë¬¸ì„œÂ·í‘œ ë°ì´í„°ë¥¼ ê²€ìƒ‰ ì¤€ë¹„ ìƒíƒœë¡œ ë§Œë“¤ì–´ ë‘ê³ , FAQÂ·ì‹¤ì‹œê°„ ìƒë‹´Â·ë²•ì  ë¬¸ì„œë¥¼ í•œ í™”ë©´ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤.
      </div>
    </section>

    <aside class="hero-side">
      <div class="hero-side-card">
        <div class="hero-side-title">í™˜ê²½ ìš”ì•½</div>
        <div class="hero-side-row">
          <span class="hero-side-label">ë²¡í„° DB</span>
          <span class="hero-side-value">{{ VECTOR_DB_PATH|default:"(ë¯¸ì„¤ì •)" }}</span>
        </div>
        <div class="hero-side-row">
          <span class="hero-side-label">ì»¬ë ‰ì…˜</span>
          <span class="hero-side-value">{{ CHROMA_COLLECTION|default:"-" }}</span>
        </div>
      </div>
      <div class="hero-side-card">
        <div class="hero-side-title">ë²•ì  ë¬¸ì„œ</div>
        <div class="hero-side-row">
          <span class="hero-side-label">ê°œì¸ì •ë³´</span>
          <span class="hero-side-value">
            <a href="{{ legal_privacy_url }}" target="_blank" rel="noopener" style="color:#bfdbfe;text-decoration:none;">ë¯¸ë¦¬ë³´ê¸°</a>
          </span>
        </div>
        <div class="hero-side-row">
          <span class="hero-side-label">ì´ìš© ê°€ì´ë“œ</span>
          <span class="hero-side-value">
            <a href="{{ legal_guide_url }}" target="_blank" rel="noopener" style="color:#bfdbfe;text-decoration:none;">/guide</a>
          </span>
        </div>
      </div>
    </aside>
  </header>

  <!-- GRID CARDS -->
  <main class="grid" aria-label="ê´€ë¦¬ ë©”ë‰´">
    <section class="card">
      <h3>ë‰´ìŠ¤ í¬ë¡¤ë§ &amp; ì¸ë±ì‹± <span class="pill">AUTO_INGEST={{ AUTO_INGEST_AFTER_GEMINI|default:"OFF" }}</span></h3>
      <p>í‚¤ì›Œë“œÂ·RSSÂ·URLì„ ê¸°ì¤€ìœ¼ë¡œ ê¸°ì‚¬ ë³¸ë¬¸ì„ ëª¨ìœ¼ê³ , ê²€ìƒ‰ìš© ë²¡í„° DBì— ì •ë¦¬í•©ë‹ˆë‹¤.</p>
      <div class="btn-row">
        <a class="btn btn-accent" href="{% url 'ragadmin:crawl_news' %}">ì—´ê¸°</a>
      </div>
    </section>

    <section class="card">
      <h3>ë¬¸ì„œ ì—…ë¡œë“œ</h3>
      <p>PDF / TXT ë¬¸ì„œë¥¼ ì—¬ëŸ¬ ê°œ ì˜¬ë ¤ì„œ í•œ ë²ˆì— í…ìŠ¤íŠ¸ ì¶”ì¶œ â†’ ì²­í¬ ë‚˜ëˆ„ê¸° â†’ ì„ë² ë”©ê¹Œì§€ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>
      <div class="btn-row">
        <a class="btn btn-accent" href="{% url 'ragadmin:upload_doc' %}">ì—´ê¸°</a>
      </div>
    </section>

    <!-- âœ… í‘œ ê¸°ëŠ¥ ì¹´ë“œ + ê·œì¹™ ê´€ë¦¬ ë²„íŠ¼ -->
    <section class="card">
      <h3>í‘œ ë°ì´í„° ì˜¬ë ¤ë‘ê¸° (ì—‘ì…€Â·CSV)</h3>
      <p>ì—‘ì…€ì—ì„œ ë‚´ë³´ë‚¸ CSVë‚˜ ê°„ë‹¨í•œ í‘œ íŒŒì¼ì„ ì˜¬ë ¤ë‘ë©´, ë‚˜ì¤‘ì— ìì—°ì–´ ì§ˆë¬¸ìœ¼ë¡œ ë‹¤ì‹œ ì°¾ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      <div class="btn-row">
        <a class="btn btn-accent" href="{% url 'table_index' %}">í‘œ íŒŒì¼ ì €ì¥í•˜ê¸°</a>
        <a class="btn btn-ghost" href="{% url 'table_search' %}">í‘œì—ì„œ ê²€ìƒ‰í•˜ê¸°</a>
        <!-- ğŸ”½ í•˜ë“œì½”ë”© ëŒ€ì‹  ìš´ì˜ìê°€ ì¡°ì ˆí•˜ëŠ” ê²€ìƒ‰ ê·œì¹™ í™”ë©´ -->
        <a class="btn btn-ghost" href="/admin/ragapp/tablesearchrule/">ê²€ìƒ‰ ê·œì¹™ ê´€ë¦¬</a>
      </div>
      <div class="rows">
        <span class="pill">ë§¤ì¶œÂ·ì •ì‚°í‘œ</span>
        <span class="pill">ì§€í‘œÂ·í†µê³„</span>
        <span class="pill">ë¡œê·¸ ìš”ì•½</span>
      </div>
    </section>

    <section class="card">
      <h3>FAQ ì¶”ì²œ &amp; ìŠ¹ê²©</h3>
      <p>ëŒ€í™” ë¡œê·¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ì„ ì¶”ì²œë°›ê³ , í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ê³µì‹ FAQë¡œ ì˜¬ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      <div class="btn-row">
        <a class="btn btn-accent" href="{% url 'ragadmin:faq_suggest' %}">ì¶”ì²œ ë³´ê¸°</a>
        <a class="btn btn-ghost" href="{% url 'ragadmin:faq_promote' %}">ìŠ¹ê²© ê´€ë¦¬</a>
      </div>
    </section>

    <section class="card">
      <h3>ì‹¤ì‹œê°„ ìƒë‹´ ì½˜ì†”</h3>
      <p>QARAGì—ì„œ â€œìƒë‹´ì‚¬ ì—°ê²°â€ì„ ëˆ„ë¥¸ ìš”ì²­ì„ ë³´ê³ , ìš´ì˜ìê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë‹µë³€ì„ ë³´ë‚¼ ìˆ˜ ìˆëŠ” í™”ë©´ì…ë‹ˆë‹¤.</p>
      <div class="btn-row">
        <a class="btn btn-accent" href="{% url 'ragadmin:live_chat' %}">ì‹¤ì‹œê°„ ìƒë‹´ ì—´ê¸°</a>
      </div>
    </section>

    <section class="card">
      <h3>ë²•ì  ì„¤ì •</h3>
      <p>ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨, êµ­ì™¸ì´ì „ ê³ ì§€, ì´ìš© ì•½ê´€, ì„œë¹„ìŠ¤ ì´ìš© ê°€ì´ë“œë¥¼ í•œ ê³³ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
      <div class="btn-row">
        <a class="btn btn-accent" href="{% url 'ragadmin:legal_entry' %}">ì„¤ì • ì—´ê¸°</a>
        <a class="btn btn-ghost" href="{{ legal_privacy_url }}" target="_blank" rel="noopener">ê°œì¸ì •ë³´ ë¯¸ë¦¬ë³´ê¸°</a>
      </div>
    </section>

    <section class="card">
      <h3>ë°ì´í„° ëª©ë¡ (Admin)</h3>
      <p>ë²¡í„° ì²­í¬Â·ë¡œê·¸Â·FAQÂ·í‘œ ìŠ¤í‚¤ë§ˆë¥¼ ê¸°ë³¸ Admin ë¦¬ìŠ¤íŠ¸ì—ì„œ ë°”ë¡œ í™•ì¸í•©ë‹ˆë‹¤.</p>
      <div class="rows">
        <!-- ê³ ì • URL ì‚¬ìš© (ì—­ì´ë¦„ ì‹¤íŒ¨ ë°©ì§€) -->
        <a class="btn" href="/admin/ragapp/ragchunk/">RagChunk</a>
        <a class="btn" href="/admin/ragapp/chatquerylog/">ChatQueryLog</a>
        <a class="btn" href="/admin/ragapp/mylog/">MyLog</a>
        <a class="btn" href="/admin/ragapp/faqentry/">FaqEntry</a>
        <a class="btn" href="/admin/ragapp/tableschema/">TableSchema</a> <!-- âœ… ìƒˆë¡œ ì¶”ê°€ -->
      </div>
    </section>
  </main>

  <!-- GUIDE CARD (í•˜ë‹¨ í•œ ì¤„) -->
  <section class="card" style="margin-top:4px;">
    <div style="display:flex;justify-content:space-between;align-items:center;position:relative;z-index:1;">
      <div>
        <div style="font-size:14px;font-weight:700;margin-bottom:4px;">ì´ìš© ê°€ì´ë“œ</div>
        <div style="font-size:13px;color:var(--dim);">í…ŒìŠ¤í„° ì•ˆë‚´Â·ì£¼ì˜ì‚¬í•­Â·ë¹ ë¥¸ ì‹œì‘ ì ˆì°¨ë¥¼ í•œ í˜ì´ì§€ë¡œ ì •ë¦¬í•œ ì„¤ëª…ì„œì…ë‹ˆë‹¤.</div>
      </div>
      <div class="btn-row">
        <a class="btn" href="{% url 'ragadmin:guide' %}">ê´€ë¦¬ì ë˜í¼ë¡œ ì—´ê¸°</a>
        <a class="btn btn-ghost" href="{{ legal_guide_url }}" target="_blank" rel="noopener">/guide ìƒˆ íƒ­</a>
      </div>
    </div>
  </section>

  <footer class="foot">
    VECTOR_DB_PATH: <code>{{ VECTOR_DB_PATH|default:"(ë¯¸ì„¤ì •)" }}</code>
    Â· CHROMA_COLLECTION: <code>{{ CHROMA_COLLECTION|default:"-" }}</code>
  </footer>
</div>
</body>
</html>
