{# ragapp/templates/ragadmin/legal_config.html #}
{% extends "admin/base_site.html" %}

{% block extrastyle %}
<style>
  :root{
    --bg:#f7f8fb; --card:#ffffff; --text:#0f172a; --dim:#6b7280; --line:#e5e7eb;
    --accent:#38bdf8; --accent-strong:#0ea5e9; --radius:14px;
  }
  .wrap{max-width:960px;margin:0 auto}
  .head h1{margin:0 0 6px;font-weight:800}
  .head p{margin:0 0 14px;color:var(--dim)}
  .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);
        box-shadow:0 8px 20px rgba(15,23,42,.06);padding:16px;margin-top:12px}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .btn{appearance:none;border:1px solid var(--line);background:#fff;color:var(--text);
       padding:9px 12px;border-radius:10px;cursor:pointer;font-weight:800;
       text-decoration:none;display:inline-flex;align-items:center;gap:6px;}
  .btn.primary{border-color:transparent;background:linear-gradient(180deg,var(--accent),var(--accent-strong));color:#fff}
  .btn:focus-visible{outline:3px solid var(--accent);outline-offset:2px}
  .tag{display:inline-block;padding:2px 8px;border:1px solid var(--line);border-radius:999px;background:#f1f5f9;color:#475569;font-size:12px}
  dl.kv{display:grid;grid-template-columns:160px 1fr;gap:10px;margin:0}
  dl.kv dt{color:#111827;font-weight:700}
  dl.kv dd{margin:0;color:#111827}
  .muted{color:var(--dim)}
  @media (max-width:720px){ dl.kv{grid-template-columns:1fr} }
</style>
{% endblock %}

{% block content %}
<div class="wrap">
  <div class="head">
    <h1>ë²•ì  ì„¤ì •</h1>
    <p class="muted">í•„ìˆ˜ ë§í¬ì™€ í‘œì‹œ ì˜µì…˜ì„ ê°„ë‹¨íˆ í™•ì¸í•˜ì„¸ìš”. ìˆ˜ì •ì€ Admin ëª¨ë¸ì—ì„œ ì§„í–‰í•©ë‹ˆë‹¤.</p>
  </div>

  <!-- ë¹ ë¥¸ ì‘ì—… -->
  <div class="card">
    <div class="row">
      {# ğŸ”¹ ragadmin ìª½ LegalConfig ë¦¬ìŠ¤íŠ¸ë¡œ ë°”ë¡œ ì´ë™ (URL ì§ì ‘ ì§€ì •) #}
      <a class="btn primary" href="/ragadmin/ragapp/legalconfig/">
        RAG Adminì—ì„œ í¸ì§‘
      </a>

      <a class="btn" href="{% url 'ragadmin:guide' %}">ê°€ì´ë“œ</a>
      {% if AUTO_INGEST_AFTER_GEMINI is not None %}
        <span class="tag">AUTO_INGEST {{ AUTO_INGEST_AFTER_GEMINI|yesno:"ON,OFF" }}</span>
      {% endif %}
    </div>
  </div>

  <!-- í˜„ì¬ ì„¤ì • -->
  <div class="card">
    <dl class="kv">
      <dt>ì„œë¹„ìŠ¤ëª…</dt>
      <dd>
        {% if legal_config and legal_config.service_name %}
          {{ legal_config.service_name }}
        {% else %}<span class="muted">(ë¯¸ì„¤ì •)</span>{% endif %}
      </dd>

      <dt>ìš´ì˜ìëª…</dt>
      <dd>
        {% if legal_config and legal_config.operator_name %}
          {{ legal_config.operator_name }}
        {% else %}<span class="muted">(ë¯¸ì„¤ì •)</span>{% endif %}
      </dd>

      <dt>ì—°ë½ ì´ë©”ì¼</dt>
      <dd>
        {% if legal_config and legal_config.contact_email %}
          {{ legal_config.contact_email }}
        {% else %}<span class="muted">(ë¯¸ì„¤ì •)</span>{% endif %}
      </dd>

      <dt>ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</dt>
      <dd>
        {% if legal_config and legal_config.privacy_url %}
          <a href="{{ legal_config.privacy_url }}" target="_blank">{{ legal_config.privacy_url }}</a>
        {% else %}<span class="muted">(ë¯¸ì„¤ì •)</span>{% endif %}
      </dd>

      <dt>ì´ìš©ì•½ê´€</dt>
      <dd>
        {% if legal_config and legal_config.tos_url %}
          <a href="{{ legal_config.tos_url }}" target="_blank">{{ legal_config.tos_url }}</a>
        {% else %}<span class="muted">(ë¯¸ì„¤ì •)</span>{% endif %}
      </dd>

      <dt>êµ­ì™¸ì´ì „ ê³ ì§€</dt>
      <dd>
        {% if legal_config and legal_config.overseas_transfer_url %}
          <a href="{{ legal_config.overseas_transfer_url }}" target="_blank">{{ legal_config.overseas_transfer_url }}</a>
        {% else %}<span class="muted">(ë¯¸ì„¤ì •)</span>{% endif %}
      </dd>

      <dt>ì´ˆê¸° ë™ì˜ ê²Œì´íŠ¸</dt>
      <dd>
        {% if legal_config and legal_config.enable_consent_gate %}
          ì‚¬ìš©
        {% else %}<span class="muted">ë¯¸ì‚¬ìš©</span>{% endif %}
      </dd>

      <dt>í‘¸í„° ë§í¬ í‘œì‹œ</dt>
      <dd>
        {% if legal_config and legal_config.show_footer_links %}
          í‘œì‹œ
        {% else %}<span class="muted">ìˆ¨ê¹€</span>{% endif %}
      </dd>

      <dt>ë©”ëª¨</dt>
      <dd>
        {% if legal_config and legal_config.memo %}
          {{ legal_config.memo }}
        {% else %}
          <span class="muted">â€”</span>
        {% endif %}
      </dd>
    </dl>
  </div>

  <!-- ê°„ë‹¨ í”„ë¦¬ë·° -->
  <div class="card">
    <dl class="kv">
      <dt>í‘¸í„° ë§í¬</dt>
      <dd>
        {% if legal_config and legal_config.privacy_url %}
          <a href="{{ legal_config.privacy_url }}" target="_blank">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
        {% else %}<span class="muted">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨(ë¯¸ì„¤ì •)</span>{% endif %}
        &nbsp;Â·&nbsp;
        {% if legal_config and legal_config.tos_url %}
          <a href="{{ legal_config.tos_url }}" target="_blank">ì´ìš©ì•½ê´€</a>
        {% else %}<span class="muted">ì´ìš©ì•½ê´€(ë¯¸ì„¤ì •)</span>{% endif %}
        {% if legal_config and legal_config.overseas_transfer_url %}
          &nbsp;Â·&nbsp;<a href="{{ legal_config.overseas_transfer_url }}" target="_blank">êµ­ì™¸ì´ì „ ê³ ì§€</a>
        {% endif %}
      </dd>

      <dt>ë™ì˜ ê²Œì´íŠ¸</dt>
      <dd>
        {% if legal_config and legal_config.enable_consent_gate %}
          <span class="tag">í‘œì‹œë¨</span>
        {% else %}
          <span class="muted">í‘œì‹œ ì•ˆ í•¨</span>
        {% endif %}
      </dd>
    </dl>
  </div>
</div>
{% endblock %}
